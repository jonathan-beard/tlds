<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>tlds: rstm/rstm-dev/libstm/policies/policies.hpp Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">tlds
   </div>
   <div id="projectbrief">Transactional Operations for Linked Data Structures</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('policies_8hpp_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">policies.hpp</div>  </div>
</div><!--header-->
<div class="contents">
<a href="policies_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> *  Copyright (C) 2011</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *  University of Rochester Department of Computer Science</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> *    and</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *  Lehigh University Department of Computer Science and Engineering</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> * License: Modified BSD</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> *          Please see the file LICENSE.RSTM for licensing information</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> */</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;</div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#ifndef POLICIES_HPP__</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define POLICIES_HPP__</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &lt;stm/config.h&gt;</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="preprocessor">#ifdef STM_CC_SUN</span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#else</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#include &lt;cstdio&gt;</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#endif</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">#include &lt;inttypes.h&gt;</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="platform_8hpp.html">common/platform.hpp</a>&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="metadata_8hpp.html">stm/metadata.hpp</a>&gt;</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="txthread_8hpp.html">stm/txthread.hpp</a>&gt;</span></div>
<div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;<a class="code" href="lib__globals_8hpp.html">stm/lib_globals.hpp</a>&gt;</span></div>
<div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="keyword">namespace </span><a class="code" href="structstm__st.html">stm</a></div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;{<span class="comment"></span></div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="comment">   *  These define the different adaptivity policies.  A policy is a name, the</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="comment">   *  starting mode, and some information about how/when to adapt.</span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00033"></a><span class="lineno"><a class="line" href="structstm_1_1pol__t.html">   33</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structstm_1_1pol__t.html">pol_t</a></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;  {</div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;      <span class="comment">/*** the name of this policy */</span></div>
<div class="line"><a name="l00036"></a><span class="lineno"><a class="line" href="structstm_1_1pol__t.html#aa1ec02828e13ae421210813a0530c7e2">   36</a></span>&#160;      <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="structstm_1_1pol__t.html#aa1ec02828e13ae421210813a0530c7e2">name</a>;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;</div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;      <span class="comment">/*** name of the mode that we start in */</span></div>
<div class="line"><a name="l00039"></a><span class="lineno"><a class="line" href="structstm_1_1pol__t.html#a3e0bcae5db5a642fd1fd52e70b407912">   39</a></span>&#160;      <span class="keywordtype">int</span>   <a class="code" href="structstm_1_1pol__t.html#a3e0bcae5db5a642fd1fd52e70b407912">startmode</a>;</div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;</div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;      <span class="comment">/*** thresholds for adapting due to aborts and waiting */</span></div>
<div class="line"><a name="l00042"></a><span class="lineno"><a class="line" href="structstm_1_1pol__t.html#a4412e28930c7c9b27f79648a4f03f119">   42</a></span>&#160;      <span class="keywordtype">int</span>   <a class="code" href="structstm_1_1pol__t.html#a4412e28930c7c9b27f79648a4f03f119">abortThresh</a>;</div>
<div class="line"><a name="l00043"></a><span class="lineno"><a class="line" href="structstm_1_1pol__t.html#ab2fcda8fb37a957d85680298c74534e2">   43</a></span>&#160;      <span class="keywordtype">int</span>   <a class="code" href="structstm_1_1pol__t.html#ab2fcda8fb37a957d85680298c74534e2">waitThresh</a>;</div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;      <span class="comment">/*** does the policy use profiles? */</span></div>
<div class="line"><a name="l00046"></a><span class="lineno"><a class="line" href="structstm_1_1pol__t.html#a1e5b3f8a00cfa2b0582659f246807194">   46</a></span>&#160;      <span class="keywordtype">bool</span>  <a class="code" href="structstm_1_1pol__t.html#a1e5b3f8a00cfa2b0582659f246807194">isDynamic</a>;</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;      <span class="comment">/*** does the policy require a qtable? */</span></div>
<div class="line"><a name="l00049"></a><span class="lineno"><a class="line" href="structstm_1_1pol__t.html#aed809be4b01040aa094585064893eb86">   49</a></span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="structstm_1_1pol__t.html#aed809be4b01040aa094585064893eb86">isCBR</a>;</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;      <span class="comment">/*** does the policy have commit-based reprofiling? */</span></div>
<div class="line"><a name="l00052"></a><span class="lineno"><a class="line" href="structstm_1_1pol__t.html#a93b2720e97db068bdb5bcedb4c24a77c">   52</a></span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="structstm_1_1pol__t.html#a93b2720e97db068bdb5bcedb4c24a77c">isCommitProfile</a>;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;      <span class="comment">/*** the decision policy function pointer */</span></div>
<div class="line"><a name="l00055"></a><span class="lineno"><a class="line" href="structstm_1_1pol__t.html#aa39cd629fff95a9112ab8b0fb3fc4937">   55</a></span>&#160;      uint32_t (*<a class="code" href="structstm_1_1pol__t.html#aa39cd629fff95a9112ab8b0fb3fc4937">TM_FASTCALL</a> decider) ();</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;      <span class="comment">/*** simple ctor, because a NULL name is a bad thing */</span></div>
<div class="line"><a name="l00058"></a><span class="lineno"><a class="line" href="structstm_1_1pol__t.html#abcdd56b7661df6f4d7ad42df6076e0ce">   58</a></span>&#160;      <a class="code" href="structstm_1_1pol__t.html#abcdd56b7661df6f4d7ad42df6076e0ce">pol_t</a>() : <a class="code" href="structstm_1_1pol__t.html#aa1ec02828e13ae421210813a0530c7e2">name</a>(<span class="stringliteral">&quot;&quot;</span>){ }</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;  };</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="comment">   *  This describes the state of the selected policy.  This should be a</span></div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="comment">   *  singleton, but we don&#39;t bother.  There will be one of these, which we</span></div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="comment">   *  can use to tell what the current policy is that libstm is using.</span></div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00066"></a><span class="lineno"><a class="line" href="structstm_1_1behavior__t.html">   66</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structstm_1_1behavior__t.html">behavior_t</a></div>
<div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  {</div>
<div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;      <span class="comment">// name of current policy</span></div>
<div class="line"><a name="l00069"></a><span class="lineno"><a class="line" href="structstm_1_1behavior__t.html#aef57c4f5438b332ed2829a907101504f">   69</a></span>&#160;      uint32_t <a class="code" href="structstm_1_1behavior__t.html#aef57c4f5438b332ed2829a907101504f">POL_ID</a>;</div>
<div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;</div>
<div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;      <span class="comment">// name of current algorithm</span></div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="line" href="structstm_1_1behavior__t.html#a52f3d6d903327aa9b96b4358c301b906">   72</a></span>&#160;      <span class="keyword">volatile</span> uint32_t <a class="code" href="structstm_1_1behavior__t.html#a52f3d6d903327aa9b96b4358c301b906">ALG_ID</a>;</div>
<div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;</div>
<div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;      <span class="comment">// name of alg before the last profile was collected</span></div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="line" href="structstm_1_1behavior__t.html#ab914d48d4a039a0b4b9dbbdd0f08462d">   75</a></span>&#160;      uint32_t <a class="code" href="structstm_1_1behavior__t.html#ab914d48d4a039a0b4b9dbbdd0f08462d">PREPROFILE_ALG</a>;</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;      <span class="comment">// did we make a decision due to aborting?</span></div>
<div class="line"><a name="l00078"></a><span class="lineno"><a class="line" href="structstm_1_1behavior__t.html#a246c606cffbe6e00ad47817cca8b44f2">   78</a></span>&#160;      <span class="keywordtype">bool</span> <a class="code" href="structstm_1_1behavior__t.html#a246c606cffbe6e00ad47817cca8b44f2">abort_switch</a>;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <span class="comment">// so we can backoff on our thresholds when we have repeat</span></div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;      <span class="comment">// algorithim selections</span></div>
<div class="line"><a name="l00082"></a><span class="lineno"><a class="line" href="structstm_1_1behavior__t.html#ad54029ebe2d83e4ba76f1e011ed8f95e">   82</a></span>&#160;      <span class="keywordtype">int</span> <a class="code" href="structstm_1_1behavior__t.html#ad54029ebe2d83e4ba76f1e011ed8f95e">abortThresh</a>;</div>
<div class="line"><a name="l00083"></a><span class="lineno"><a class="line" href="structstm_1_1behavior__t.html#a64fe29181a677b2617b5e954a78c33b8">   83</a></span>&#160;      <span class="keywordtype">int</span> <a class="code" href="structstm_1_1behavior__t.html#a64fe29181a677b2617b5e954a78c33b8">waitThresh</a>;</div>
<div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  };</div>
<div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="comment">   *  Data type for holding the dynamic transaction profiles that we collect.</span></div>
<div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;<span class="comment">   *  This is pretty sloppy for now, and the &#39;dump&#39; command is really not</span></div>
<div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;<span class="comment">   *  going to be important once we get out of the debug phase.  We may also</span></div>
<div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;<span class="comment">   *  determine that we need more information than we currently have.</span></div>
<div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00092"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html">   92</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structstm_1_1dynprof__t.html">dynprof_t</a></div>
<div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  {</div>
<div class="line"><a name="l00094"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#af1e78f3394edfbf9de5699112c41cea4">   94</a></span>&#160;      <span class="keywordtype">int</span>      <a class="code" href="structstm_1_1dynprof__t.html#af1e78f3394edfbf9de5699112c41cea4">read_ro</a>;           <span class="comment">// calls to read_ro</span></div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#a0a198a899b311419f63ab993e0afeeaf">   95</a></span>&#160;      <span class="keywordtype">int</span>      <a class="code" href="structstm_1_1dynprof__t.html#a0a198a899b311419f63ab993e0afeeaf">read_rw_nonraw</a>;    <span class="comment">// read_rw calls that are not raw</span></div>
<div class="line"><a name="l00096"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#ab1c13f6928a4d9037a768e3df8dc5f40">   96</a></span>&#160;      <span class="keywordtype">int</span>      <a class="code" href="structstm_1_1dynprof__t.html#ab1c13f6928a4d9037a768e3df8dc5f40">read_rw_raw</a>;       <span class="comment">// read_rw calls that are raw</span></div>
<div class="line"><a name="l00097"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#aa8824b4a711da2929d1065d7f7f005fa">   97</a></span>&#160;      <span class="keywordtype">int</span>      <a class="code" href="structstm_1_1dynprof__t.html#aa8824b4a711da2929d1065d7f7f005fa">write_nonwaw</a>;      <span class="comment">// write calls that are not waw</span></div>
<div class="line"><a name="l00098"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#a9365e2a5faf3ac711df3ea74c522d5db">   98</a></span>&#160;      <span class="keywordtype">int</span>      <a class="code" href="structstm_1_1dynprof__t.html#a9365e2a5faf3ac711df3ea74c522d5db">write_waw</a>;         <span class="comment">// write calls that are waw</span></div>
<div class="line"><a name="l00099"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#ad447eb05504a614fbcc966d02534aec5">   99</a></span>&#160;      <span class="keywordtype">int</span>      <a class="code" href="structstm_1_1dynprof__t.html#ad447eb05504a614fbcc966d02534aec5">pad</a>;               <span class="comment">// to put the 64-bit val on a 2-byte boundary</span></div>
<div class="line"><a name="l00100"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#ac21d53f32c09ea9a58cd389d7cf7f102">  100</a></span>&#160;      uint64_t <a class="code" href="structstm_1_1dynprof__t.html#ac21d53f32c09ea9a58cd389d7cf7f102">txn_time</a>;          <span class="comment">// txn time</span></div>
<div class="line"><a name="l00101"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#a146c7efc1729bd2dc3f682da5506672d">  101</a></span>&#160;      uint64_t <a class="code" href="structstm_1_1dynprof__t.html#a146c7efc1729bd2dc3f682da5506672d">timecounter</a>;       <span class="comment">// total time in transactions</span></div>
<div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;</div>
<div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;      <span class="comment">// to be clear: txn_time is either the average time for all</span></div>
<div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      <span class="comment">// transactions, or the max time of any transaction.  timecounter is</span></div>
<div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;      <span class="comment">// the sum of all time in transactions.  timecounter only is useful for</span></div>
<div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;      <span class="comment">// profileapp, but it is very important if we want to compute nontx/tx</span></div>
<div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;      <span class="comment">// ratio when txn_time is a max value</span></div>
<div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="comment">      /**</span></div>
<div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="comment">       *  simple ctor to prevent compiler warnings</span></div>
<div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l00112"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#a6e2f084dade90e12f76bd8c29cfba11a">  112</a></span>&#160;      <a class="code" href="structstm_1_1dynprof__t.html#a6e2f084dade90e12f76bd8c29cfba11a">dynprof_t</a>()</div>
<div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;          : <a class="code" href="structstm_1_1dynprof__t.html#af1e78f3394edfbf9de5699112c41cea4">read_ro</a>(0), <a class="code" href="structstm_1_1dynprof__t.html#a0a198a899b311419f63ab993e0afeeaf">read_rw_nonraw</a>(0), <a class="code" href="structstm_1_1dynprof__t.html#ab1c13f6928a4d9037a768e3df8dc5f40">read_rw_raw</a>(0), <a class="code" href="structstm_1_1dynprof__t.html#aa8824b4a711da2929d1065d7f7f005fa">write_nonwaw</a>(0),</div>
<div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;            <a class="code" href="structstm_1_1dynprof__t.html#a9365e2a5faf3ac711df3ea74c522d5db">write_waw</a>(0), <a class="code" href="structstm_1_1dynprof__t.html#ad447eb05504a614fbcc966d02534aec5">pad</a>(0), <a class="code" href="structstm_1_1dynprof__t.html#ac21d53f32c09ea9a58cd389d7cf7f102">txn_time</a>(0), <a class="code" href="structstm_1_1dynprof__t.html#a146c7efc1729bd2dc3f682da5506672d">timecounter</a>(0)</div>
<div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;      {</div>
<div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;      }</div>
<div class="line"><a name="l00117"></a><span class="lineno">  117</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;<span class="comment">      /**</span></div>
<div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;<span class="comment">       *  Operator for copying profiles</span></div>
<div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l00121"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#afb59bdfcfff22b7a75837f4423ec15e1">  121</a></span>&#160;      <a class="code" href="structstm_1_1dynprof__t.html">dynprof_t</a>&amp; <a class="code" href="structstm_1_1dynprof__t.html#afb59bdfcfff22b7a75837f4423ec15e1">operator=</a>(<span class="keyword">const</span> <a class="code" href="structstm_1_1dynprof__t.html">dynprof_t</a>* profile)</div>
<div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;      {</div>
<div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;          <span class="keywordflow">if</span> (<span class="keyword">this</span> != profile) {</div>
<div class="line"><a name="l00124"></a><span class="lineno">  124</span>&#160;              <a class="code" href="structstm_1_1dynprof__t.html#af1e78f3394edfbf9de5699112c41cea4">read_ro</a>        = profile-&gt;<a class="code" href="structstm_1_1dynprof__t.html#af1e78f3394edfbf9de5699112c41cea4">read_ro</a>;</div>
<div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;              <a class="code" href="structstm_1_1dynprof__t.html#a0a198a899b311419f63ab993e0afeeaf">read_rw_nonraw</a> = profile-&gt;<a class="code" href="structstm_1_1dynprof__t.html#a0a198a899b311419f63ab993e0afeeaf">read_rw_nonraw</a>;</div>
<div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;              <a class="code" href="structstm_1_1dynprof__t.html#ab1c13f6928a4d9037a768e3df8dc5f40">read_rw_raw</a>    = profile-&gt;<a class="code" href="structstm_1_1dynprof__t.html#ab1c13f6928a4d9037a768e3df8dc5f40">read_rw_raw</a>;</div>
<div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;              <a class="code" href="structstm_1_1dynprof__t.html#aa8824b4a711da2929d1065d7f7f005fa">write_nonwaw</a>   = profile-&gt;<a class="code" href="structstm_1_1dynprof__t.html#aa8824b4a711da2929d1065d7f7f005fa">write_nonwaw</a>;</div>
<div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;              <a class="code" href="structstm_1_1dynprof__t.html#a9365e2a5faf3ac711df3ea74c522d5db">write_waw</a>      = profile-&gt;<a class="code" href="structstm_1_1dynprof__t.html#a9365e2a5faf3ac711df3ea74c522d5db">write_waw</a>;</div>
<div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;              <a class="code" href="structstm_1_1dynprof__t.html#ac21d53f32c09ea9a58cd389d7cf7f102">txn_time</a>       = profile-&gt;<a class="code" href="structstm_1_1dynprof__t.html#ac21d53f32c09ea9a58cd389d7cf7f102">txn_time</a>;</div>
<div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;          }</div>
<div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;          <span class="keywordflow">return</span> *<span class="keyword">this</span>;</div>
<div class="line"><a name="l00132"></a><span class="lineno">  132</span>&#160;      }</div>
<div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;<span class="comment">      /**</span></div>
<div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;<span class="comment">       *  Print a dynprof_t</span></div>
<div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l00137"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#a16cfdcbd81c4528cd778b587d46c94e5">  137</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="structstm_1_1dynprof__t.html#a16cfdcbd81c4528cd778b587d46c94e5">dump</a>()</div>
<div class="line"><a name="l00138"></a><span class="lineno">  138</span>&#160;      {</div>
<div class="line"><a name="l00139"></a><span class="lineno">  139</span>&#160;          printf(<span class="stringliteral">&quot;Profile: read_ro=%d, read_rw_nonraw=%d, read_rw_raw=%d, &quot;</span></div>
<div class="line"><a name="l00140"></a><span class="lineno">  140</span>&#160;                 <span class="stringliteral">&quot;write_nonwaw=%d, write_waw=%d, txn_time=%llu\n&quot;</span>,</div>
<div class="line"><a name="l00141"></a><span class="lineno">  141</span>&#160;                 <a class="code" href="structstm_1_1dynprof__t.html#af1e78f3394edfbf9de5699112c41cea4">read_ro</a>, <a class="code" href="structstm_1_1dynprof__t.html#a0a198a899b311419f63ab993e0afeeaf">read_rw_nonraw</a>, <a class="code" href="structstm_1_1dynprof__t.html#ab1c13f6928a4d9037a768e3df8dc5f40">read_rw_raw</a>, <a class="code" href="structstm_1_1dynprof__t.html#aa8824b4a711da2929d1065d7f7f005fa">write_nonwaw</a>,</div>
<div class="line"><a name="l00142"></a><span class="lineno">  142</span>&#160;                 <a class="code" href="structstm_1_1dynprof__t.html#a9365e2a5faf3ac711df3ea74c522d5db">write_waw</a>, (<span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span>)<a class="code" href="structstm_1_1dynprof__t.html#ac21d53f32c09ea9a58cd389d7cf7f102">txn_time</a>);</div>
<div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;      }</div>
<div class="line"><a name="l00144"></a><span class="lineno">  144</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00145"></a><span class="lineno">  145</span>&#160;<span class="comment">      /**</span></div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;<span class="comment">       *  Clear a dynprof_t</span></div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l00148"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#a3a563bc6d70ae8791d4d940bdeed38fd">  148</a></span>&#160;      <span class="keywordtype">void</span> <a class="code" href="structstm_1_1dynprof__t.html#a3a563bc6d70ae8791d4d940bdeed38fd">clear</a>()</div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;      {</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;          <a class="code" href="structstm_1_1dynprof__t.html#af1e78f3394edfbf9de5699112c41cea4">read_ro</a> = <a class="code" href="structstm_1_1dynprof__t.html#a0a198a899b311419f63ab993e0afeeaf">read_rw_nonraw</a> = <a class="code" href="structstm_1_1dynprof__t.html#ab1c13f6928a4d9037a768e3df8dc5f40">read_rw_raw</a> = 0;</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;          <a class="code" href="structstm_1_1dynprof__t.html#aa8824b4a711da2929d1065d7f7f005fa">write_nonwaw</a> = <a class="code" href="structstm_1_1dynprof__t.html#a9365e2a5faf3ac711df3ea74c522d5db">write_waw</a> = 0;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;          <a class="code" href="structstm_1_1dynprof__t.html#ac21d53f32c09ea9a58cd389d7cf7f102">txn_time</a> = <a class="code" href="structstm_1_1dynprof__t.html#a146c7efc1729bd2dc3f682da5506672d">timecounter</a> = 0;</div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;      }</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;<span class="comment">      /**</span></div>
<div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="comment">       *  If we have lots of profiles, compute their average value for each</span></div>
<div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;<span class="comment">       *  field</span></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l00159"></a><span class="lineno"><a class="line" href="structstm_1_1dynprof__t.html#a2b3bf61e8cd914963dc3ff653ec2f6bc">  159</a></span>&#160;      <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="structstm_1_1dynprof__t.html#a2b3bf61e8cd914963dc3ff653ec2f6bc">doavg</a>(<a class="code" href="structstm_1_1dynprof__t.html">dynprof_t</a>&amp; dest, <a class="code" href="structstm_1_1dynprof__t.html">dynprof_t</a>* <a class="code" href="structlist.html">list</a>, <span class="keywordtype">int</span> num)</div>
<div class="line"><a name="l00160"></a><span class="lineno">  160</span>&#160;      {</div>
<div class="line"><a name="l00161"></a><span class="lineno">  161</span>&#160;          <span class="comment">// zero the important fields</span></div>
<div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;          dest.<a class="code" href="structstm_1_1dynprof__t.html#a3a563bc6d70ae8791d4d940bdeed38fd">clear</a>();</div>
<div class="line"><a name="l00163"></a><span class="lineno">  163</span>&#160;</div>
<div class="line"><a name="l00164"></a><span class="lineno">  164</span>&#160;          <span class="comment">// accumulate sums into dest</span></div>
<div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;          <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; num; ++i) {</div>
<div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;              dest.<a class="code" href="structstm_1_1dynprof__t.html#af1e78f3394edfbf9de5699112c41cea4">read_ro</a>        += list[i].<a class="code" href="structstm_1_1dynprof__t.html#af1e78f3394edfbf9de5699112c41cea4">read_ro</a>;</div>
<div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;              dest.<a class="code" href="structstm_1_1dynprof__t.html#a0a198a899b311419f63ab993e0afeeaf">read_rw_nonraw</a> += list[i].<a class="code" href="structstm_1_1dynprof__t.html#a0a198a899b311419f63ab993e0afeeaf">read_rw_nonraw</a>;</div>
<div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;              dest.<a class="code" href="structstm_1_1dynprof__t.html#ab1c13f6928a4d9037a768e3df8dc5f40">read_rw_raw</a>    += list[i].<a class="code" href="structstm_1_1dynprof__t.html#ab1c13f6928a4d9037a768e3df8dc5f40">read_rw_raw</a>;</div>
<div class="line"><a name="l00169"></a><span class="lineno">  169</span>&#160;              dest.<a class="code" href="structstm_1_1dynprof__t.html#aa8824b4a711da2929d1065d7f7f005fa">write_nonwaw</a>   += list[i].<a class="code" href="structstm_1_1dynprof__t.html#aa8824b4a711da2929d1065d7f7f005fa">write_nonwaw</a>;</div>
<div class="line"><a name="l00170"></a><span class="lineno">  170</span>&#160;              dest.<a class="code" href="structstm_1_1dynprof__t.html#a9365e2a5faf3ac711df3ea74c522d5db">write_waw</a>      += list[i].<a class="code" href="structstm_1_1dynprof__t.html#a9365e2a5faf3ac711df3ea74c522d5db">write_waw</a>;</div>
<div class="line"><a name="l00171"></a><span class="lineno">  171</span>&#160;              dest.<a class="code" href="structstm_1_1dynprof__t.html#ac21d53f32c09ea9a58cd389d7cf7f102">txn_time</a>       += list[i].<a class="code" href="structstm_1_1dynprof__t.html#ac21d53f32c09ea9a58cd389d7cf7f102">txn_time</a>;</div>
<div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;          }</div>
<div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div>
<div class="line"><a name="l00174"></a><span class="lineno">  174</span>&#160;          <span class="comment">// compute averages</span></div>
<div class="line"><a name="l00175"></a><span class="lineno">  175</span>&#160;          dest.<a class="code" href="structstm_1_1dynprof__t.html#af1e78f3394edfbf9de5699112c41cea4">read_ro</a>        /= num;</div>
<div class="line"><a name="l00176"></a><span class="lineno">  176</span>&#160;          dest.<a class="code" href="structstm_1_1dynprof__t.html#a0a198a899b311419f63ab993e0afeeaf">read_rw_nonraw</a> /= num;</div>
<div class="line"><a name="l00177"></a><span class="lineno">  177</span>&#160;          dest.<a class="code" href="structstm_1_1dynprof__t.html#ab1c13f6928a4d9037a768e3df8dc5f40">read_rw_raw</a>    /= num;</div>
<div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;          dest.<a class="code" href="structstm_1_1dynprof__t.html#aa8824b4a711da2929d1065d7f7f005fa">write_nonwaw</a>   /= num;</div>
<div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;          dest.<a class="code" href="structstm_1_1dynprof__t.html#a9365e2a5faf3ac711df3ea74c522d5db">write_waw</a>      /= num;</div>
<div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;          dest.<a class="code" href="structstm_1_1dynprof__t.html#ac21d53f32c09ea9a58cd389d7cf7f102">txn_time</a>       /= num;</div>
<div class="line"><a name="l00181"></a><span class="lineno">  181</span>&#160;      }</div>
<div class="line"><a name="l00182"></a><span class="lineno">  182</span>&#160;  };</div>
<div class="line"><a name="l00183"></a><span class="lineno">  183</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00184"></a><span class="lineno">  184</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00185"></a><span class="lineno">  185</span>&#160;<span class="comment">   *  This is for storing our CBR-style qtable</span></div>
<div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;<span class="comment">   *</span></div>
<div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;<span class="comment">   *    The qtable tells us for a particular workload characteristic, what</span></div>
<div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="comment">   *    algorithm did best at each thread count.</span></div>
<div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="line" href="structstm_1_1qtable__t.html">  190</a></span>&#160;  <span class="keyword">struct </span><a class="code" href="structstm_1_1qtable__t.html">qtable_t</a></div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;  {<span class="comment"></span></div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;<span class="comment">      /**</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;<span class="comment">       *  Selection Fields</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;<span class="comment">       *</span></div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;<span class="comment">       *    NB: These fields are for choosing the output: For a given behavior,</span></div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;<span class="comment">       *        choose the algorithm that maximizes throughput.</span></div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;</div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;      <span class="comment">/*** The name of the STM algorithm that produced this result */</span></div>
<div class="line"><a name="l00200"></a><span class="lineno"><a class="line" href="structstm_1_1qtable__t.html#a6cb50666a64febf79d4d3ec5ca70c67a">  200</a></span>&#160;      <span class="keywordtype">int</span> <a class="code" href="structstm_1_1qtable__t.html#a6cb50666a64febf79d4d3ec5ca70c67a">alg_name</a>;</div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">      /**</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">       *  Transaction Behavior Summary</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">       *</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">       *    NB: The profile holds a characterization of the transactions of the</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">       *        workload, with regard to reads and writes, and the time spent</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="comment">       *        on a transaction.  Depending on which variant of ProfileApp was</span></div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;<span class="comment">       *        used to create this profile, it will either hold average values,</span></div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;<span class="comment">       *        or max values.</span></div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;<span class="comment">       *</span></div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;<span class="comment">       *    NB: We assume that a summary of transactions in the single-thread</span></div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;<span class="comment">       *        execution is appropriate for the behavior of transactions in a</span></div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;<span class="comment">       *        multithreaded execution.</span></div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l00215"></a><span class="lineno"><a class="line" href="structstm_1_1qtable__t.html#a6980b10f0672b612b6d52556d3649fbf">  215</a></span>&#160;      <a class="code" href="structstm_1_1dynprof__t.html">dynprof_t</a> <a class="code" href="structstm_1_1qtable__t.html#a6980b10f0672b612b6d52556d3649fbf">p</a>;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;<span class="comment">      /**</span></div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="comment">       *  Workload Behavior Summary</span></div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">      /**</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">       *  The ratio of transactional work to nontransactional work</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l00224"></a><span class="lineno"><a class="line" href="structstm_1_1qtable__t.html#a3c0bb02f0188050de2b91629d9b1674a">  224</a></span>&#160;      <span class="keywordtype">int</span> <a class="code" href="structstm_1_1qtable__t.html#a3c0bb02f0188050de2b91629d9b1674a">txn_ratio</a>;</div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;<span class="comment">      /**</span></div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;<span class="comment">       *  The percentage of transactions that are Read-Only</span></div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="comment">       */</span></div>
<div class="line"><a name="l00229"></a><span class="lineno"><a class="line" href="structstm_1_1qtable__t.html#a90c4ee712992870b04c4506869e0a1ea">  229</a></span>&#160;      <span class="keywordtype">int</span> <a class="code" href="structstm_1_1qtable__t.html#a90c4ee712992870b04c4506869e0a1ea">pct_ro</a>;</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;      <span class="comment">/*** The thread count at which this result was measured */</span></div>
<div class="line"><a name="l00232"></a><span class="lineno"><a class="line" href="structstm_1_1qtable__t.html#a6639131b696719510cb2c1d313a3f4cb">  232</a></span>&#160;      <span class="keywordtype">int</span> <a class="code" href="structstm_1_1qtable__t.html#a6639131b696719510cb2c1d313a3f4cb">thr</a>;</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;      <span class="comment">/*** really simple ctor */</span></div>
<div class="line"><a name="l00235"></a><span class="lineno"><a class="line" href="structstm_1_1qtable__t.html#acc286af6b0bd3277f22d6eec1f54e0cd">  235</a></span>&#160;      <a class="code" href="structstm_1_1qtable__t.html#acc286af6b0bd3277f22d6eec1f54e0cd">qtable_t</a>() : <a class="code" href="structstm_1_1qtable__t.html#a90c4ee712992870b04c4506869e0a1ea">pct_ro</a>(0) { }</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;  };</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;  <span class="comment">/*** Used in txthread to initialize the policy subsystem */</span></div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacestm.html#a4d7a6395ef81ca8e19fa2168d69e219b">pol_init</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* mode);</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;<span class="comment">   *  Just like stm_name_map, we sometimes need to turn a policy name into its</span></div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;<span class="comment">   *  corresponding enum value</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;  <span class="keywordtype">int</span> <a class="code" href="namespacestm.html#a67c0991ee0ce05d2dc2015dff47a584e">pol_name_map</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* phasename);</div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;<span class="comment">   *  The POLS enum lists every adaptive policy we have</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00250"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493">  250</a></span>&#160;  <span class="keyword">enum</span> <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493">POLS</a> {</div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;      <span class="comment">// this is a &quot;no adaptivity&quot; policy</span></div>
<div class="line"><a name="l00252"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493af00d76b2e9570c9ef71fb59bbff6b3d3">  252</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493af00d76b2e9570c9ef71fb59bbff6b3d3">Single</a>,</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;      <span class="comment">// Testing policy, to make sure profiles are working</span></div>
<div class="line"><a name="l00254"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a96f3581ddaae6418a394fc270057e005">  254</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a96f3581ddaae6418a394fc270057e005">PROFILE_NOCHANGE</a>,</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;      <span class="comment">// the state-machine policies</span></div>
<div class="line"><a name="l00256"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493afe98ca998e91d9883900ccc2579411cb">  256</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a5fbccff2a7f8301aa2364704541da649">E</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a20042be93e440ec38c8d74f645b25ea8">ER</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493adbfb4e354fc128dfe6c7334ff08ac558">R</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493afe98ca998e91d9883900ccc2579411cb">X</a>,</div>
<div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;      <span class="comment">// CBR without dynamic profiling</span></div>
<div class="line"><a name="l00258"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493aee65cfe9901d210de837cbb1f243cf5a">  258</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493aee65cfe9901d210de837cbb1f243cf5a">CBR_RO</a>,</div>
<div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;      <span class="comment">// CBR with dynamic profiling</span></div>
<div class="line"><a name="l00260"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a84543cc00203169452a705770cc8d6b4">  260</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a876c8a530cb793b2acd9d30c42a991f9">CBR_Read</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a84543cc00203169452a705770cc8d6b4">CBR_Write</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493aa5811bdeb030f29963e5423f5121ba4e">CBR_Time</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a8e768ff49c3143004726d68ada5936ba">CBR_RW</a>,</div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ae1dbf21e41fb8372766523d3f0e688ce">  261</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a43bf92d9361dd7de388df69779b458f4">CBR_R_RO</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a2cb2e5e6b3f044931be9781fd2c79a2f">CBR_R_Time</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a9134216f95da9c5c7849249bbd5b62f8">CBR_W_RO</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ae1dbf21e41fb8372766523d3f0e688ce">CBR_W_Time</a>,</div>
<div class="line"><a name="l00262"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a094e12c62e309f2e570b8959d593d5e8">  262</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a094e12c62e309f2e570b8959d593d5e8">CBR_Time_RO</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ac6415b359d0dc955c70c67bcc5402606">CBR_R_W_RO</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493afa709945322d7ea48e851b0de26c5c34">CBR_R_W_Time</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493aca5947c981294f35a2d961a197a0dc1f">CBR_R_Time_RO</a>,</div>
<div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493af801e9827272485287bff05341e616b8">  263</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493af801e9827272485287bff05341e616b8">CBR_W_Time_RO</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a89b74f4a4c7545721046c423a7df1916">CBR_R_W_Time_RO</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493acbb2745792185384618cd5f53c504679">CBR_TxnRatio</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ab13ff4d0f101aa2b4fe5cd5e7149a18f">CBR_TxnRatio_R</a>,</div>
<div class="line"><a name="l00264"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a5e3f60d689489c25ccd05fb76816753d">  264</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a5e3f60d689489c25ccd05fb76816753d">CBR_TxnRatio_W</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a3f241476ddf4da1dc2d8194c554e01fc">CBR_TxnRatio_RO</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ae86936227191c732ccec32fcba58c414">CBR_TxnRatio_Time</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ac15bb8ce5873c11067ad826df68d156e">CBR_TxnRatio_RW</a>,</div>
<div class="line"><a name="l00265"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493af3e389d67745aaf8609d8cffc0e6f3a6">  265</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ab6d6ce02597f0f8b6893da6a09762599">CBR_TxnRatio_R_RO</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a3dca4058ca95a62397e9615854e392f7">CBR_TxnRatio_R_Time</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493af3e389d67745aaf8609d8cffc0e6f3a6">CBR_TxnRatio_W_RO</a>,</div>
<div class="line"><a name="l00266"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a004e80d5506fed5d3b5781be1dd3b7e7">  266</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a004e80d5506fed5d3b5781be1dd3b7e7">CBR_TxnRatio_W_Time</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493af60bda5479cef87cc48befe9628efd13">CBR_TxnRatio_RO_Time</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a26a5548e99bb334be9053f9b3c9e52b7">CBR_TxnRatio_RW_RO</a>,</div>
<div class="line"><a name="l00267"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a70013125e0613a74c89b4f99f55747b8">  267</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493aa40e7559e06316c0e8b327418b48a68f">CBR_TxnRatio_RW_Time</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a779665fdec869cf0000966bb51ae85f4">CBR_TxnRatio_R_RO_Time</a>, <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a70013125e0613a74c89b4f99f55747b8">CBR_TxnRatio_W_RO_Time</a>,</div>
<div class="line"><a name="l00268"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a6d9d1d0725de77bf02e0265cf934033c">  268</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a6d9d1d0725de77bf02e0265cf934033c">CBR_TxnRatio_RW_RO_Time</a>,</div>
<div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;      <span class="comment">// max value... this always goes last</span></div>
<div class="line"><a name="l00270"></a><span class="lineno"><a class="line" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ae9cfae39bec896ef08d7792295866d60">  270</a></span>&#160;      <a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ae9cfae39bec896ef08d7792295866d60">POL_MAX</a></div>
<div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;  };</div>
<div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00273"></a><span class="lineno">  273</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;<span class="comment">   *  These globals are used by our adaptivity policies</span></div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;  <span class="keyword">extern</span> pol_t                 <a class="code" href="namespacestm.html#a533577214af07c44f099eb536d8dece7">pols</a>[<a class="code" href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ae9cfae39bec896ef08d7792295866d60">POL_MAX</a>];       <span class="comment">// describe all policies</span></div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;  <span class="keyword">extern</span> MiniVector&lt;qtable_t&gt;* <a class="code" href="namespacestm.html#a93eff2ad5eaf4e9c0661b0214c35bd1b">qtbl</a>[<a class="code" href="namespacestm.html#a41da58ff755b92c2c2903c8e2844f6c4">MAX_THREADS</a>+1]; <span class="comment">// hold the CBR data</span></div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;  <span class="keyword">extern</span> behavior_t            <a class="code" href="namespacestm.html#ab5f6db774c01e9a0e2aec0173d0481b1">curr_policy</a>;         <span class="comment">// the current STM alg</span></div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;<span class="comment"></span></div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;<span class="comment">  /**</span></div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;<span class="comment">   *  Helper function.  This is a terrible thing, and one we must get rid of,</span></div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;<span class="comment">   *  especially since we are calling it far more often than we should!</span></div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;<span class="comment">   */</span></div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;  <a class="code" href="platform_8hpp.html#abdc8d70d196a73a2a119efdbe674ecf8">TM_INLINE</a></div>
<div class="line"><a name="l00285"></a><span class="lineno"><a class="line" href="namespacestm.html#a18a81b01de87995b54cd855bb6eeaae7">  285</a></span>&#160;  <span class="keyword">inline</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> <a class="code" href="namespacestm.html#a18a81b01de87995b54cd855bb6eeaae7">get_nontxtime</a>()</div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;  {</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;      <span class="comment">// extimate the global nontx time per transaction</span></div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;      uint32_t commits = 1;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> nontxn_time = 0;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;      <span class="keywordflow">for</span> (<span class="keywordtype">unsigned</span> z = 0; z &lt; <a class="code" href="namespacestm.html#ac554ffc5ca7bee783d48142f1a0ff82b">threadcount</a>.<a class="code" href="structstm_1_1pad__word__t.html#adb34896d04147daf2aa7c67fc82a5247">val</a>; z++){</div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;          nontxn_time += <a class="code" href="namespacestm.html#ab2acabe9f596fb07413e3a12fa14d570">threads</a>[z]-&gt;<a class="code" href="structstm_1_1TxThread.html#ad217a99774ad79e3d581b008ef067991">total_nontxn_time</a>;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;          commits += <a class="code" href="namespacestm.html#ab2acabe9f596fb07413e3a12fa14d570">threads</a>[z]-&gt;<a class="code" href="structstm_1_1TxThread.html#a069d677bd932889c7abec4f684d984e4">num_commits</a>;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;          commits += <a class="code" href="namespacestm.html#ab2acabe9f596fb07413e3a12fa14d570">threads</a>[z]-&gt;<a class="code" href="structstm_1_1TxThread.html#a43b41a7888b7ba9d2acd18127422c036">num_ro</a>;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;      }</div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;      commits += !commits; <span class="comment">// if commits is 0, make it 1, without control flow</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;      <span class="keywordtype">unsigned</span> <span class="keywordtype">long</span> <span class="keywordtype">long</span> ans = 1 + (nontxn_time / commits);</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;      <span class="keywordflow">return</span> ans;</div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;  }</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;  <span class="comment">/*** used in the policies impementations to register policies */</span></div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;  <span class="keywordtype">void</span> <a class="code" href="namespacestm.html#a6aa5d9dc2e638d0df9771d39cd3b87ef">init_adapt_pol</a>(uint32_t PolicyID,   int32_t startmode,</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;                      int32_t abortThresh, int32_t waitThresh,</div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;                      <span class="keywordtype">bool</span> isDynamic,      <span class="keywordtype">bool</span> isCBR,</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;                      <span class="keywordtype">bool</span> isCommitProfile,  uint32_t (*decider)() <a class="code" href="platform_8hpp.html#a8b5d728e6eed8f368f9966f637d2f719">TM_FASTCALL</a>,</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;                      <span class="keyword">const</span> <span class="keywordtype">char</span>* name);</div>
<div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;</div>
<div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;} <span class="comment">// namespace stm</span></div>
<div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div>
<div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;<span class="preprocessor">#endif // POLICIES_HPP__</span></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493afa709945322d7ea48e851b0de26c5c34"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493afa709945322d7ea48e851b0de26c5c34">stm::CBR_R_W_Time</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:262</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493aa40e7559e06316c0e8b327418b48a68f"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493aa40e7559e06316c0e8b327418b48a68f">stm::CBR_TxnRatio_RW_Time</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:267</div></div>
<div class="ttc" id="structstm_1_1pol__t_html_a3e0bcae5db5a642fd1fd52e70b407912"><div class="ttname"><a href="structstm_1_1pol__t.html#a3e0bcae5db5a642fd1fd52e70b407912">stm::pol_t::startmode</a></div><div class="ttdeci">int startmode</div><div class="ttdef"><b>Definition:</b> policies.hpp:39</div></div>
<div class="ttc" id="namespacestm_html_ab2acabe9f596fb07413e3a12fa14d570"><div class="ttname"><a href="namespacestm.html#ab2acabe9f596fb07413e3a12fa14d570">stm::threads</a></div><div class="ttdeci">TxThread * threads[MAX_THREADS]</div><div class="ttdef"><b>Definition:</b> txthread.cpp:56</div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_a3a563bc6d70ae8791d4d940bdeed38fd"><div class="ttname"><a href="structstm_1_1dynprof__t.html#a3a563bc6d70ae8791d4d940bdeed38fd">stm::dynprof_t::clear</a></div><div class="ttdeci">void clear()</div><div class="ttdef"><b>Definition:</b> policies.hpp:148</div></div>
<div class="ttc" id="platform_8hpp_html"><div class="ttname"><a href="platform_8hpp.html">platform.hpp</a></div></div>
<div class="ttc" id="structstm_1_1behavior__t_html_a246c606cffbe6e00ad47817cca8b44f2"><div class="ttname"><a href="structstm_1_1behavior__t.html#a246c606cffbe6e00ad47817cca8b44f2">stm::behavior_t::abort_switch</a></div><div class="ttdeci">bool abort_switch</div><div class="ttdef"><b>Definition:</b> policies.hpp:78</div></div>
<div class="ttc" id="structstm__st_html"><div class="ttname"><a href="structstm__st.html">stm_st</a></div><div class="ttdef"><b>Definition:</b> stm_fraser.c:61</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a9134216f95da9c5c7849249bbd5b62f8"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a9134216f95da9c5c7849249bbd5b62f8">stm::CBR_W_RO</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:261</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a876c8a530cb793b2acd9d30c42a991f9"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a876c8a530cb793b2acd9d30c42a991f9">stm::CBR_Read</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:260</div></div>
<div class="ttc" id="structstm_1_1pol__t_html"><div class="ttname"><a href="structstm_1_1pol__t.html">stm::pol_t</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:33</div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_a6e2f084dade90e12f76bd8c29cfba11a"><div class="ttname"><a href="structstm_1_1dynprof__t.html#a6e2f084dade90e12f76bd8c29cfba11a">stm::dynprof_t::dynprof_t</a></div><div class="ttdeci">dynprof_t()</div><div class="ttdef"><b>Definition:</b> policies.hpp:112</div></div>
<div class="ttc" id="structstm_1_1pol__t_html_aed809be4b01040aa094585064893eb86"><div class="ttname"><a href="structstm_1_1pol__t.html#aed809be4b01040aa094585064893eb86">stm::pol_t::isCBR</a></div><div class="ttdeci">bool isCBR</div><div class="ttdef"><b>Definition:</b> policies.hpp:49</div></div>
<div class="ttc" id="txthread_8hpp_html"><div class="ttname"><a href="txthread_8hpp.html">txthread.hpp</a></div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_af1e78f3394edfbf9de5699112c41cea4"><div class="ttname"><a href="structstm_1_1dynprof__t.html#af1e78f3394edfbf9de5699112c41cea4">stm::dynprof_t::read_ro</a></div><div class="ttdeci">int read_ro</div><div class="ttdef"><b>Definition:</b> policies.hpp:94</div></div>
<div class="ttc" id="structstm_1_1behavior__t_html_ad54029ebe2d83e4ba76f1e011ed8f95e"><div class="ttname"><a href="structstm_1_1behavior__t.html#ad54029ebe2d83e4ba76f1e011ed8f95e">stm::behavior_t::abortThresh</a></div><div class="ttdeci">int abortThresh</div><div class="ttdef"><b>Definition:</b> policies.hpp:82</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a779665fdec869cf0000966bb51ae85f4"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a779665fdec869cf0000966bb51ae85f4">stm::CBR_TxnRatio_R_RO_Time</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:267</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493adbfb4e354fc128dfe6c7334ff08ac558"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493adbfb4e354fc128dfe6c7334ff08ac558">stm::R</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:256</div></div>
<div class="ttc" id="structstm_1_1behavior__t_html"><div class="ttname"><a href="structstm_1_1behavior__t.html">stm::behavior_t</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:66</div></div>
<div class="ttc" id="lib__globals_8hpp_html"><div class="ttname"><a href="lib__globals_8hpp.html">lib_globals.hpp</a></div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_a2b3bf61e8cd914963dc3ff653ec2f6bc"><div class="ttname"><a href="structstm_1_1dynprof__t.html#a2b3bf61e8cd914963dc3ff653ec2f6bc">stm::dynprof_t::doavg</a></div><div class="ttdeci">static void doavg(dynprof_t &amp;dest, dynprof_t *list, int num)</div><div class="ttdef"><b>Definition:</b> policies.hpp:159</div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_afb59bdfcfff22b7a75837f4423ec15e1"><div class="ttname"><a href="structstm_1_1dynprof__t.html#afb59bdfcfff22b7a75837f4423ec15e1">stm::dynprof_t::operator=</a></div><div class="ttdeci">dynprof_t &amp; operator=(const dynprof_t *profile)</div><div class="ttdef"><b>Definition:</b> policies.hpp:121</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a3dca4058ca95a62397e9615854e392f7"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a3dca4058ca95a62397e9615854e392f7">stm::CBR_TxnRatio_R_Time</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:265</div></div>
<div class="ttc" id="metadata_8hpp_html"><div class="ttname"><a href="metadata_8hpp.html">metadata.hpp</a></div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a8e768ff49c3143004726d68ada5936ba"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a8e768ff49c3143004726d68ada5936ba">stm::CBR_RW</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:260</div></div>
<div class="ttc" id="structstm_1_1qtable__t_html_a6980b10f0672b612b6d52556d3649fbf"><div class="ttname"><a href="structstm_1_1qtable__t.html#a6980b10f0672b612b6d52556d3649fbf">stm::qtable_t::p</a></div><div class="ttdeci">dynprof_t p</div><div class="ttdef"><b>Definition:</b> policies.hpp:215</div></div>
<div class="ttc" id="namespacestm_html_a533577214af07c44f099eb536d8dece7"><div class="ttname"><a href="namespacestm.html#a533577214af07c44f099eb536d8dece7">stm::pols</a></div><div class="ttdeci">pol_t pols[POL_MAX]</div><div class="ttdef"><b>Definition:</b> policies.cpp:107</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493ae1dbf21e41fb8372766523d3f0e688ce"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ae1dbf21e41fb8372766523d3f0e688ce">stm::CBR_W_Time</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:261</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493af00d76b2e9570c9ef71fb59bbff6b3d3"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493af00d76b2e9570c9ef71fb59bbff6b3d3">stm::Single</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:252</div></div>
<div class="ttc" id="structstm_1_1qtable__t_html_acc286af6b0bd3277f22d6eec1f54e0cd"><div class="ttname"><a href="structstm_1_1qtable__t.html#acc286af6b0bd3277f22d6eec1f54e0cd">stm::qtable_t::qtable_t</a></div><div class="ttdeci">qtable_t()</div><div class="ttdef"><b>Definition:</b> policies.hpp:235</div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html"><div class="ttname"><a href="structstm_1_1dynprof__t.html">stm::dynprof_t</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:92</div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_a16cfdcbd81c4528cd778b587d46c94e5"><div class="ttname"><a href="structstm_1_1dynprof__t.html#a16cfdcbd81c4528cd778b587d46c94e5">stm::dynprof_t::dump</a></div><div class="ttdeci">void dump()</div><div class="ttdef"><b>Definition:</b> policies.hpp:137</div></div>
<div class="ttc" id="structstm_1_1pad__word__t_html_adb34896d04147daf2aa7c67fc82a5247"><div class="ttname"><a href="structstm_1_1pad__word__t.html#adb34896d04147daf2aa7c67fc82a5247">stm::pad_word_t::val</a></div><div class="ttdeci">volatile uintptr_t val</div><div class="ttdef"><b>Definition:</b> metadata.hpp:117</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493af801e9827272485287bff05341e616b8"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493af801e9827272485287bff05341e616b8">stm::CBR_W_Time_RO</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:263</div></div>
<div class="ttc" id="structstm_1_1qtable__t_html_a3c0bb02f0188050de2b91629d9b1674a"><div class="ttname"><a href="structstm_1_1qtable__t.html#a3c0bb02f0188050de2b91629d9b1674a">stm::qtable_t::txn_ratio</a></div><div class="ttdeci">int txn_ratio</div><div class="ttdef"><b>Definition:</b> policies.hpp:224</div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_ac21d53f32c09ea9a58cd389d7cf7f102"><div class="ttname"><a href="structstm_1_1dynprof__t.html#ac21d53f32c09ea9a58cd389d7cf7f102">stm::dynprof_t::txn_time</a></div><div class="ttdeci">uint64_t txn_time</div><div class="ttdef"><b>Definition:</b> policies.hpp:100</div></div>
<div class="ttc" id="structstm_1_1pol__t_html_abcdd56b7661df6f4d7ad42df6076e0ce"><div class="ttname"><a href="structstm_1_1pol__t.html#abcdd56b7661df6f4d7ad42df6076e0ce">stm::pol_t::pol_t</a></div><div class="ttdeci">pol_t()</div><div class="ttdef"><b>Definition:</b> policies.hpp:58</div></div>
<div class="ttc" id="structstm_1_1qtable__t_html_a6639131b696719510cb2c1d313a3f4cb"><div class="ttname"><a href="structstm_1_1qtable__t.html#a6639131b696719510cb2c1d313a3f4cb">stm::qtable_t::thr</a></div><div class="ttdeci">int thr</div><div class="ttdef"><b>Definition:</b> policies.hpp:232</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493ab6d6ce02597f0f8b6893da6a09762599"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ab6d6ce02597f0f8b6893da6a09762599">stm::CBR_TxnRatio_R_RO</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:265</div></div>
<div class="ttc" id="structstm_1_1behavior__t_html_aef57c4f5438b332ed2829a907101504f"><div class="ttname"><a href="structstm_1_1behavior__t.html#aef57c4f5438b332ed2829a907101504f">stm::behavior_t::POL_ID</a></div><div class="ttdeci">uint32_t POL_ID</div><div class="ttdef"><b>Definition:</b> policies.hpp:69</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493acbb2745792185384618cd5f53c504679"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493acbb2745792185384618cd5f53c504679">stm::CBR_TxnRatio</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:263</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493ac6415b359d0dc955c70c67bcc5402606"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ac6415b359d0dc955c70c67bcc5402606">stm::CBR_R_W_RO</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:262</div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_a9365e2a5faf3ac711df3ea74c522d5db"><div class="ttname"><a href="structstm_1_1dynprof__t.html#a9365e2a5faf3ac711df3ea74c522d5db">stm::dynprof_t::write_waw</a></div><div class="ttdeci">int write_waw</div><div class="ttdef"><b>Definition:</b> policies.hpp:98</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a26a5548e99bb334be9053f9b3c9e52b7"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a26a5548e99bb334be9053f9b3c9e52b7">stm::CBR_TxnRatio_RW_RO</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:266</div></div>
<div class="ttc" id="namespacestm_html_ac554ffc5ca7bee783d48142f1a0ff82b"><div class="ttname"><a href="namespacestm.html#ac554ffc5ca7bee783d48142f1a0ff82b">stm::threadcount</a></div><div class="ttdeci">pad_word_t threadcount</div><div class="ttdef"><b>Definition:</b> WBMMPolicy.hpp:35</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a2cb2e5e6b3f044931be9781fd2c79a2f"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a2cb2e5e6b3f044931be9781fd2c79a2f">stm::CBR_R_Time</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:261</div></div>
<div class="ttc" id="structstm_1_1qtable__t_html"><div class="ttname"><a href="structstm_1_1qtable__t.html">stm::qtable_t</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:190</div></div>
<div class="ttc" id="structstm_1_1TxThread_html_a43b41a7888b7ba9d2acd18127422c036"><div class="ttname"><a href="structstm_1_1TxThread.html#a43b41a7888b7ba9d2acd18127422c036">stm::TxThread::num_ro</a></div><div class="ttdeci">uint32_t num_ro</div><div class="ttdef"><b>Definition:</b> txthread.hpp:56</div></div>
<div class="ttc" id="namespacestm_html_a93eff2ad5eaf4e9c0661b0214c35bd1b"><div class="ttname"><a href="namespacestm.html#a93eff2ad5eaf4e9c0661b0214c35bd1b">stm::qtbl</a></div><div class="ttdeci">MiniVector&lt; qtable_t &gt; * qtbl[MAX_THREADS+1]</div><div class="ttdef"><b>Definition:</b> policies.cpp:111</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a094e12c62e309f2e570b8959d593d5e8"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a094e12c62e309f2e570b8959d593d5e8">stm::CBR_Time_RO</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:262</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a6d9d1d0725de77bf02e0265cf934033c"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a6d9d1d0725de77bf02e0265cf934033c">stm::CBR_TxnRatio_RW_RO_Time</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:268</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493ae9cfae39bec896ef08d7792295866d60"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ae9cfae39bec896ef08d7792295866d60">stm::POL_MAX</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:270</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493aee65cfe9901d210de837cbb1f243cf5a"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493aee65cfe9901d210de837cbb1f243cf5a">stm::CBR_RO</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:258</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493aa5811bdeb030f29963e5423f5121ba4e"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493aa5811bdeb030f29963e5423f5121ba4e">stm::CBR_Time</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:260</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493afe98ca998e91d9883900ccc2579411cb"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493afe98ca998e91d9883900ccc2579411cb">stm::X</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:256</div></div>
<div class="ttc" id="structstm_1_1pol__t_html_a93b2720e97db068bdb5bcedb4c24a77c"><div class="ttname"><a href="structstm_1_1pol__t.html#a93b2720e97db068bdb5bcedb4c24a77c">stm::pol_t::isCommitProfile</a></div><div class="ttdeci">bool isCommitProfile</div><div class="ttdef"><b>Definition:</b> policies.hpp:52</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a89b74f4a4c7545721046c423a7df1916"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a89b74f4a4c7545721046c423a7df1916">stm::CBR_R_W_Time_RO</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:263</div></div>
<div class="ttc" id="platform_8hpp_html_abdc8d70d196a73a2a119efdbe674ecf8"><div class="ttname"><a href="platform_8hpp.html#abdc8d70d196a73a2a119efdbe674ecf8">TM_INLINE</a></div><div class="ttdeci">#define TM_INLINE</div><div class="ttdef"><b>Definition:</b> platform.hpp:77</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493">stm::POLS</a></div><div class="ttdeci">POLS</div><div class="ttdef"><b>Definition:</b> policies.hpp:250</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a20042be93e440ec38c8d74f645b25ea8"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a20042be93e440ec38c8d74f645b25ea8">stm::ER</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:256</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493aca5947c981294f35a2d961a197a0dc1f"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493aca5947c981294f35a2d961a197a0dc1f">stm::CBR_R_Time_RO</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:262</div></div>
<div class="ttc" id="namespacestm_html_ab5f6db774c01e9a0e2aec0173d0481b1"><div class="ttname"><a href="namespacestm.html#ab5f6db774c01e9a0e2aec0173d0481b1">stm::curr_policy</a></div><div class="ttdeci">behavior_t curr_policy</div><div class="ttdef"><b>Definition:</b> policies.cpp:108</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493af60bda5479cef87cc48befe9628efd13"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493af60bda5479cef87cc48befe9628efd13">stm::CBR_TxnRatio_RO_Time</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:266</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a96f3581ddaae6418a394fc270057e005"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a96f3581ddaae6418a394fc270057e005">stm::PROFILE_NOCHANGE</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:254</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493ab13ff4d0f101aa2b4fe5cd5e7149a18f"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ab13ff4d0f101aa2b4fe5cd5e7149a18f">stm::CBR_TxnRatio_R</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:263</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493ac15bb8ce5873c11067ad826df68d156e"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ac15bb8ce5873c11067ad826df68d156e">stm::CBR_TxnRatio_RW</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:264</div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_ad447eb05504a614fbcc966d02534aec5"><div class="ttname"><a href="structstm_1_1dynprof__t.html#ad447eb05504a614fbcc966d02534aec5">stm::dynprof_t::pad</a></div><div class="ttdeci">int pad</div><div class="ttdef"><b>Definition:</b> policies.hpp:99</div></div>
<div class="ttc" id="structstm_1_1TxThread_html_ad217a99774ad79e3d581b008ef067991"><div class="ttname"><a href="structstm_1_1TxThread.html#ad217a99774ad79e3d581b008ef067991">stm::TxThread::total_nontxn_time</a></div><div class="ttdeci">uint64_t total_nontxn_time</div><div class="ttdef"><b>Definition:</b> txthread.hpp:93</div></div>
<div class="ttc" id="structstm_1_1TxThread_html_a069d677bd932889c7abec4f684d984e4"><div class="ttname"><a href="structstm_1_1TxThread.html#a069d677bd932889c7abec4f684d984e4">stm::TxThread::num_commits</a></div><div class="ttdeci">uint32_t num_commits</div><div class="ttdef"><b>Definition:</b> txthread.hpp:53</div></div>
<div class="ttc" id="structstm_1_1pol__t_html_a1e5b3f8a00cfa2b0582659f246807194"><div class="ttname"><a href="structstm_1_1pol__t.html#a1e5b3f8a00cfa2b0582659f246807194">stm::pol_t::isDynamic</a></div><div class="ttdeci">bool isDynamic</div><div class="ttdef"><b>Definition:</b> policies.hpp:46</div></div>
<div class="ttc" id="structstm_1_1behavior__t_html_a52f3d6d903327aa9b96b4358c301b906"><div class="ttname"><a href="structstm_1_1behavior__t.html#a52f3d6d903327aa9b96b4358c301b906">stm::behavior_t::ALG_ID</a></div><div class="ttdeci">volatile uint32_t ALG_ID</div><div class="ttdef"><b>Definition:</b> policies.hpp:72</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493ae86936227191c732ccec32fcba58c414"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493ae86936227191c732ccec32fcba58c414">stm::CBR_TxnRatio_Time</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:264</div></div>
<div class="ttc" id="structstm_1_1behavior__t_html_a64fe29181a677b2617b5e954a78c33b8"><div class="ttname"><a href="structstm_1_1behavior__t.html#a64fe29181a677b2617b5e954a78c33b8">stm::behavior_t::waitThresh</a></div><div class="ttdeci">int waitThresh</div><div class="ttdef"><b>Definition:</b> policies.hpp:83</div></div>
<div class="ttc" id="namespacestm_html_a67c0991ee0ce05d2dc2015dff47a584e"><div class="ttname"><a href="namespacestm.html#a67c0991ee0ce05d2dc2015dff47a584e">stm::pol_name_map</a></div><div class="ttdeci">int pol_name_map(const char *phasename)</div><div class="ttdef"><b>Definition:</b> policies.cpp:114</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a84543cc00203169452a705770cc8d6b4"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a84543cc00203169452a705770cc8d6b4">stm::CBR_Write</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:260</div></div>
<div class="ttc" id="structstm_1_1pol__t_html_ab2fcda8fb37a957d85680298c74534e2"><div class="ttname"><a href="structstm_1_1pol__t.html#ab2fcda8fb37a957d85680298c74534e2">stm::pol_t::waitThresh</a></div><div class="ttdeci">int waitThresh</div><div class="ttdef"><b>Definition:</b> policies.hpp:43</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a3f241476ddf4da1dc2d8194c554e01fc"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a3f241476ddf4da1dc2d8194c554e01fc">stm::CBR_TxnRatio_RO</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:264</div></div>
<div class="ttc" id="namespacestm_html_a41da58ff755b92c2c2903c8e2844f6c4"><div class="ttname"><a href="namespacestm.html#a41da58ff755b92c2c2903c8e2844f6c4">stm::MAX_THREADS</a></div><div class="ttdeci">static const unsigned MAX_THREADS</div><div class="ttdef"><b>Definition:</b> metadata.hpp:33</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a70013125e0613a74c89b4f99f55747b8"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a70013125e0613a74c89b4f99f55747b8">stm::CBR_TxnRatio_W_RO_Time</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:267</div></div>
<div class="ttc" id="structlist_html"><div class="ttname"><a href="structlist.html">list</a></div><div class="ttdef"><b>Definition:</b> list.h:93</div></div>
<div class="ttc" id="structstm_1_1qtable__t_html_a6cb50666a64febf79d4d3ec5ca70c67a"><div class="ttname"><a href="structstm_1_1qtable__t.html#a6cb50666a64febf79d4d3ec5ca70c67a">stm::qtable_t::alg_name</a></div><div class="ttdeci">int alg_name</div><div class="ttdef"><b>Definition:</b> policies.hpp:200</div></div>
<div class="ttc" id="structstm_1_1behavior__t_html_ab914d48d4a039a0b4b9dbbdd0f08462d"><div class="ttname"><a href="structstm_1_1behavior__t.html#ab914d48d4a039a0b4b9dbbdd0f08462d">stm::behavior_t::PREPROFILE_ALG</a></div><div class="ttdeci">uint32_t PREPROFILE_ALG</div><div class="ttdef"><b>Definition:</b> policies.hpp:75</div></div>
<div class="ttc" id="structstm_1_1pol__t_html_aa39cd629fff95a9112ab8b0fb3fc4937"><div class="ttname"><a href="structstm_1_1pol__t.html#aa39cd629fff95a9112ab8b0fb3fc4937">stm::pol_t::TM_FASTCALL</a></div><div class="ttdeci">uint32_t(* TM_FASTCALL)()</div><div class="ttdef"><b>Definition:</b> policies.hpp:55</div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_aa8824b4a711da2929d1065d7f7f005fa"><div class="ttname"><a href="structstm_1_1dynprof__t.html#aa8824b4a711da2929d1065d7f7f005fa">stm::dynprof_t::write_nonwaw</a></div><div class="ttdeci">int write_nonwaw</div><div class="ttdef"><b>Definition:</b> policies.hpp:97</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a43bf92d9361dd7de388df69779b458f4"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a43bf92d9361dd7de388df69779b458f4">stm::CBR_R_RO</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:261</div></div>
<div class="ttc" id="namespacestm_html_a18a81b01de87995b54cd855bb6eeaae7"><div class="ttname"><a href="namespacestm.html#a18a81b01de87995b54cd855bb6eeaae7">stm::get_nontxtime</a></div><div class="ttdeci">TM_INLINE unsigned long long get_nontxtime()</div><div class="ttdef"><b>Definition:</b> policies.hpp:285</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a004e80d5506fed5d3b5781be1dd3b7e7"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a004e80d5506fed5d3b5781be1dd3b7e7">stm::CBR_TxnRatio_W_Time</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:266</div></div>
<div class="ttc" id="namespacestm_html_a6aa5d9dc2e638d0df9771d39cd3b87ef"><div class="ttname"><a href="namespacestm.html#a6aa5d9dc2e638d0df9771d39cd3b87ef">stm::init_adapt_pol</a></div><div class="ttdeci">void init_adapt_pol(uint32_t PolicyID, int32_t startmode, int32_t abortThresh, int32_t waitThresh, bool isDynamic, bool isCBR, bool isCommitProfile, uint32_t TM_FASTCALL(*decider)(), const char *name)</div><div class="ttdef"><b>Definition:</b> policies.cpp:130</div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_a146c7efc1729bd2dc3f682da5506672d"><div class="ttname"><a href="structstm_1_1dynprof__t.html#a146c7efc1729bd2dc3f682da5506672d">stm::dynprof_t::timecounter</a></div><div class="ttdeci">uint64_t timecounter</div><div class="ttdef"><b>Definition:</b> policies.hpp:101</div></div>
<div class="ttc" id="namespacestm_html_a4d7a6395ef81ca8e19fa2168d69e219b"><div class="ttname"><a href="namespacestm.html#a4d7a6395ef81ca8e19fa2168d69e219b">stm::pol_init</a></div><div class="ttdeci">void pol_init(const char *mode)</div><div class="ttdef"><b>Definition:</b> policies.cpp:148</div></div>
<div class="ttc" id="structstm_1_1pol__t_html_a4412e28930c7c9b27f79648a4f03f119"><div class="ttname"><a href="structstm_1_1pol__t.html#a4412e28930c7c9b27f79648a4f03f119">stm::pol_t::abortThresh</a></div><div class="ttdeci">int abortThresh</div><div class="ttdef"><b>Definition:</b> policies.hpp:42</div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_a0a198a899b311419f63ab993e0afeeaf"><div class="ttname"><a href="structstm_1_1dynprof__t.html#a0a198a899b311419f63ab993e0afeeaf">stm::dynprof_t::read_rw_nonraw</a></div><div class="ttdeci">int read_rw_nonraw</div><div class="ttdef"><b>Definition:</b> policies.hpp:95</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a5e3f60d689489c25ccd05fb76816753d"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a5e3f60d689489c25ccd05fb76816753d">stm::CBR_TxnRatio_W</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:264</div></div>
<div class="ttc" id="structstm_1_1qtable__t_html_a90c4ee712992870b04c4506869e0a1ea"><div class="ttname"><a href="structstm_1_1qtable__t.html#a90c4ee712992870b04c4506869e0a1ea">stm::qtable_t::pct_ro</a></div><div class="ttdeci">int pct_ro</div><div class="ttdef"><b>Definition:</b> policies.hpp:229</div></div>
<div class="ttc" id="structstm_1_1dynprof__t_html_ab1c13f6928a4d9037a768e3df8dc5f40"><div class="ttname"><a href="structstm_1_1dynprof__t.html#ab1c13f6928a4d9037a768e3df8dc5f40">stm::dynprof_t::read_rw_raw</a></div><div class="ttdeci">int read_rw_raw</div><div class="ttdef"><b>Definition:</b> policies.hpp:96</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493af3e389d67745aaf8609d8cffc0e6f3a6"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493af3e389d67745aaf8609d8cffc0e6f3a6">stm::CBR_TxnRatio_W_RO</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:265</div></div>
<div class="ttc" id="namespacestm_html_a4fbece2613ac8fc61e22d91bac698493a5fbccff2a7f8301aa2364704541da649"><div class="ttname"><a href="namespacestm.html#a4fbece2613ac8fc61e22d91bac698493a5fbccff2a7f8301aa2364704541da649">stm::E</a></div><div class="ttdef"><b>Definition:</b> policies.hpp:256</div></div>
<div class="ttc" id="structstm_1_1pol__t_html_aa1ec02828e13ae421210813a0530c7e2"><div class="ttname"><a href="structstm_1_1pol__t.html#aa1ec02828e13ae421210813a0530c7e2">stm::pol_t::name</a></div><div class="ttdeci">const char * name</div><div class="ttdef"><b>Definition:</b> policies.hpp:36</div></div>
<div class="ttc" id="platform_8hpp_html_a8b5d728e6eed8f368f9966f637d2f719"><div class="ttname"><a href="platform_8hpp.html#a8b5d728e6eed8f368f9966f637d2f719">TM_FASTCALL</a></div><div class="ttdeci">#define TM_FASTCALL</div><div class="ttdef"><b>Definition:</b> platform.hpp:85</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_ea8553d065c729b51534488cad1d6a31.html">rstm</a></li><li class="navelem"><a class="el" href="dir_00ecb6708c2e4e588a7f31eabeda4c09.html">rstm-dev</a></li><li class="navelem"><a class="el" href="dir_350b7b25e43ba16c88e0ea6636d84c6a.html">libstm</a></li><li class="navelem"><a class="el" href="dir_94c850e011ddb7bbf7fecce3677c0256.html">policies</a></li><li class="navelem"><a class="el" href="policies_8hpp.html">policies.hpp</a></li>
    <li class="footer">Generated on Thu Sep 8 2016 13:28:38 for tlds by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
